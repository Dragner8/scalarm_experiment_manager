%div.right
  %a.button.tiny.radius(href="#" data-reveal-id="experimentEditModal" title="#{t('experiments.edit.tooltip')}")
    %i.fi-page-edit
  - if @experiment.user_id == @current_user.id
    %a.button.tiny.radius(href="#" data-reveal-id="share-dialog" title="#{t('experiments.monitoring_actions.share_dialog.header')}")
      %i.fi-share


%h3.subheader= t('.experiment_info_title')

.content
  .row
    .small-3.columns
      %h5.subheader.right= t('.experiment_name') + ':'
    .small-9.columns
      %h5.subheader= @experiment.name
  .row
    .small-3.columns
      %h5.subheader.right= t('.experiment_description') + ':'
    .small-9.columns
      %h5.subheader= @experiment.description
  .row
    - if @current_user.owns?(@experiment)
      .small-3.columns
        %h5.subheader.right= t('simulations.conduct_experiment.simulation_overview_shared_with') + ':'
      .small-9.columns
        %h5.subheader
          - if @experiment.shared_with.blank?
            = t('experiments.monitoring_actions.blank_shared_with_list')
          - else
            - @experiment.shared_with.to_a.map{|id| ScalarmUser.find_by_id(id) }.each do |u|
              = form_tag share_experiment_path(@experiment.id), class: 'custom', style: "display: inline;" do
                = hidden_field_tag 'mode', 'unshare'
                = hidden_field_tag 'sharing_with_login', u.login
                = u.login
                = submit_tag(t('experiments.monitoring_actions.unshare'), class: 'button radius tiny')
              &nbsp;
    - else
      .small-3.columns
        %h5.subheader.right= t('simulations.conduct_experiment.simulation_overview_shared_by') + ':'
      .small-9.columns
        %h5.subheader= ScalarmUser.find_by_id(@experiment.user_id).login      

  - if @experiment.simulation.nil?
    %h4.subheader= t('simulations.conduct_experiment.empty_simulation')
  - else
    %h4.subheader= t('simulations.conduct_experiment.simulation_overview_header')

    .row
      .small-3.columns
        %h5.subheader.right= t('simulations.conduct_experiment.simulation_overview_name') + ':'
      .small-9.columns
        %h5.subheader= @experiment.simulation.name
    .row
      .small-3.columns
        %h5.subheader.right= t('simulations.conduct_experiment.simulation_overview_description') + ':'
      .small-9.columns
        %h5.subheader= @experiment.simulation.description


#experimentEditModal.reveal-modal(data-reveal="")
  %h3= t('experiments.edit.header')
  %a.close-reveal-modal &#215;

  .content
    = form_tag experiment_path(@experiment.id), method: :put, class: 'custom' do
      .row
        .small-3.columns
          %h5.subheader.right= t('.experiment_name') + ':'
        .small-6.columns
          = text_field_tag 'experiment[name]', @experiment.name
        .small-1.columns
      .row
        .small-3.columns
          %h5.subheader.right= t('.experiment_description') + ':'
        .small-6.columns
          = text_area_tag 'experiment[description]', @experiment.description
        .small-1.columns
      .row
        .small-2.small-centered.columns
          = submit_tag t('experiments.edit.submit_btn'), class: 'button radius expanded'

- if @experiment.user_id == @current_user.id
  #share-dialog.reveal-modal(data-reveal)
    %a.close-reveal-modal &#215;
    %h2= t('experiments.monitoring_actions.share_dialog.header')

    = form_tag share_experiment_path(@experiment.id), class: 'custom' do
      = hidden_field_tag 'mode', 'share'
      .row
        .small-4.columns
          %label.inline.right(for="sharing_with_login")
            = t('experiments.monitoring_actions.share_with_login') + ':'
        .small-3.columns
          = text_field_tag('sharing_with_login')
          -#= select_tag('sharing_with_login', options_for_select(share_with_users), class: 'custom')
        - unless share_with_users.blank?
          .small-3.columns= submit_tag(t('experiments.monitoring_actions.share'), class: 'button radius expand small')
        .small-1.columns
