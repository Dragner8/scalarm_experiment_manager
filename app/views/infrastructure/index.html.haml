%section.panel.radius.list
  .row
    .small-10.columns
      = content_tag :h3, t('infrastructure.tree_title'), class: 'subheader'
    .small-1.columns
      %span#refresh-button{class: 'button radius expand action-button', title: t('infrastructure.refresh_button')}
        %i.fi-refresh

  .row
    .small-12.columns
      #infrastructures-tree

  #dialog.reveal-modal(data-reveal="")

  #destroy_simulation_manager_dialog.reveal-modal(data-reveal="")
    %h2= t('infrastructures.destroy_dialog.header')
    .row
      .small-6.columns.centered
        %span{id: 'destroy-yes', class: button_classes}= t('yes')
      .small-6.columns.centered
        %span{id: 'destroy-no', class: button_classes}= t('no')

- content_for :javascript do
  :javascript
    $(function() {
      window.infrastructuresTree = new window.InfrastructuresTree("#{get_sm_dialog_infrastructure_path}", 'dialog',
        "#{list_infrastructure_path}", "#{simulation_manager_records_infrastructure_path}",
        "#{simulation_manager_command_infrastructure_path}");
    });


