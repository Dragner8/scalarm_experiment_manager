- content_for :title, t('.title')

%section.panel.radius
  %h3.subheader= t('.experiments_label')

  .content
    = form_tag(simulations_upload_simulation_path, :multipart => true, class: 'custom') do
      = render partial: 'form_row', object: 'simulation_name',
        locals: { input_element: text_field_tag('simulation_name') }
      = render partial: 'form_row', object: 'simulation_description',
        locals: { input_element: text_area_tag('simulation_description') }

      = render partial: 'form_row', object: 'simulation_binaries',
        locals: { input_element: file_field_tag('simulation_binaries') }
      = render partial: 'form_row', object: 'simulation_input',
        locals: { input_element: file_field_tag('simulation_input') }

      = render partial: 'form_row', object: 'input_writer',
        locals: { input_element: select_tag('input_writer_id', options_for_select(@input_writers), class: 'medium') }
      = render partial: 'form_row', object: 'executor',
        locals: { input_element: select_tag('executor_id', options_for_select(@executors), class: 'medium') }
      = render partial: 'form_row', object: 'output_reader',
        locals: { input_element: select_tag('output_reader_id', options_for_select(@output_readers), class: 'medium') }
      = render partial: 'form_row', object: 'progress_monitor',
        locals: { input_element: select_tag('progress_monitor_id', options_for_select(@progress_monitors), class: 'medium') }

      .row
        .small-2.small-centered.columns
          = submit_tag t('.upload'), class: 'button expand radius last-element'


%section.panel.radius.last-element
  %h3.subheader= t('.component_registration_title')

  .content
    = form_tag(simulations_upload_component_path, :multipart => true) do
      .row
        .small-3.columns= label_tag :component_name, t('.component_name') + ':', class: 'inline right'
        .small-6.columns= text_field_tag 'component_name'
        .small-3.columns

      .row
        .small-3.columns= label_tag :component_code, t('.component_code') + ':', class: 'inline right'
        .small-6.columns= file_field_tag 'component_code'
        .small-3.columns

      .row
        .small-3.columns= label_tag :component_type, t('.component_type') + ':', class: 'inline right'
        .small-6.columns= select_tag('component_type', adapter_types, class: 'medium')
        .small-3.columns


      .row
        .small-2.small-centered.columns
          = submit_tag t('.upload'), class: 'button expand radius last-element'

- content_for :javascript do
  :javascript
    $(function() {
      window.toggle_panels_on_title_click();
      $('.last-element h3:first').click();
    });
